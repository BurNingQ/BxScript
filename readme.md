# BxScript ğŸš€

[![C++ Standard](https://img.shields.io/badge/C%2B%2B-17-blue.svg)](https://en.wikipedia.org/wiki/C%2B%2B17)
[![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)]()
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

**BxScript** æ˜¯ä¸€ä¸ªåŸºäº C++17 å¼€å‘çš„ã€è½»é‡çº§ã€å›¾çµå®Œå¤‡çš„åµŒå…¥å¼è„šæœ¬è¯­è¨€è§£é‡Šå™¨ã€‚

å®ƒçš„è¯­æ³•è®¾è®¡æ·±å— JavaScript å¯å‘ï¼Œæ—¨åœ¨ä¸º C++ åº”ç”¨ç¨‹åºæä¾›çµæ´»çš„è„šæœ¬æ‰©å±•èƒ½åŠ›ã€‚å®ƒä¸ä¾èµ–åºå¤§çš„ç¬¬ä¸‰æ–¹è™šæ‹Ÿæœºï¼ˆå¦‚ V8ï¼‰ï¼Œè€Œæ˜¯é‡‡ç”¨ **é€’å½’ä¸‹é™è§£æ (Recursive Descent Parsing)** å’Œ **Tree-Walk è§£é‡Šå™¨** æ¶æ„ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œå†…å­˜ç®¡ç†å¥å£®ï¼Œæ˜“äºå­¦ä¹ å’Œæ·±åº¦å®šåˆ¶ã€‚

---

## âš ï¸ å…è´£å£°æ˜ä¸ä½¿ç”¨é™åˆ¶ (Disclaimer & Restrictions)

**è¯·åœ¨ä½¿ç”¨æœ¬é¡¹ç›®å‰ä»”ç»†é˜…è¯»ä»¥ä¸‹æ¡æ¬¾ï¼š**

1.  **ä»…ä¾›æŠ€æœ¯ç ”ç©¶**ï¼šæœ¬é¡¹ç›®å¼€æºçš„åˆè¡·æ˜¯ç”¨äºç¼–ç¨‹è¯­è¨€åŸç†çš„å­¦ä¹ ã€æŠ€æœ¯äº¤æµä»¥åŠåˆæ³•çš„è½¯ä»¶å¼€å‘ã€‚
2.  **ä¸¥ç¦éæ³•ç”¨é€”**ï¼š**ä¸¥ç¦**å°† BxScript ç”¨äºä»»ä½•å½¢å¼çš„**ç°è‰²äº§ä¸šï¼ˆç°äº§ï¼‰**ã€**é»‘å®¢æ”»å‡»**ã€**ç½‘ç»œè¯ˆéª—**ã€**æ¶æ„è½¯ä»¶ç¼–å†™**æˆ–å…¶ä»–è¿åæ‚¨æ‰€åœ¨åœ°æ³•å¾‹æ³•è§„çš„è¡Œä¸ºã€‚
3.  **å…è´£æ¡æ¬¾**ï¼šä½¿ç”¨è€…åŸºäºæœ¬é¡¹ç›®å¼€å‘çš„ä»»ä½•è¡ç”Ÿäº§å“æˆ–åº”ç”¨ï¼Œå…¶äº§ç”Ÿçš„ä¸€åˆ‡æ³•å¾‹åæœç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚å¼€å‘è€…ï¼ˆBurNingLiï¼‰ä¸å¯¹ä»»ä½•å› éæ³•ä½¿ç”¨æœ¬é¡¹ç›®è€Œå¯¼è‡´çš„æŸå¤±æˆ–æ³•å¾‹è´£ä»»è´Ÿè´£ã€‚

**å¦‚æœæ‚¨æ— æ³•éµå®ˆä¸Šè¿°æ¡æ¬¾ï¼Œè¯·ç«‹å³åœæ­¢ä½¿ç”¨æœ¬é¡¹ç›®ã€‚**

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§ (Features)

*   **å›¾çµå®Œå¤‡**ï¼šå®Œæ•´æ”¯æŒå˜é‡ã€æ¡ä»¶åˆ¤æ–­ (`if/else`)ã€å¾ªç¯ (`for/while`)ã€è·³è½¬æ§åˆ¶ (`break/continue/return`)ã€‚
*   **å‡½æ•°ä¸€ç­‰å…¬æ°‘**ï¼šæ”¯æŒå‡½æ•°å£°æ˜ã€åŒ¿åå‡½æ•°ã€**é—­åŒ… (Closure)**ã€é«˜é˜¶å‡½æ•°ä»¥åŠé€’å½’è°ƒç”¨ã€‚
*   **å¥å£®çš„å†…å­˜ç®¡ç†**ï¼šåº•å±‚åŸºäº C++ æ™ºèƒ½æŒ‡é’ˆ (`std::shared_ptr` + `std::weak_ptr`) çš„å¼•ç”¨è®¡æ•°æœºåˆ¶ï¼Œè‡ªåŠ¨ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸï¼Œæœ‰æ•ˆé˜²æ­¢å†…å­˜æ³„æ¼ã€‚
*   **å¼ºå¤§çš„å­—ç¬¦ä¸²å¤„ç†**ï¼šåº•å±‚é‡‡ç”¨ **UTF-8 + UTF-32 åŒæ¨¡å­˜å‚¨**ï¼Œå®Œç¾æ”¯æŒä¸­æ–‡/Emoji çš„ç´¢å¼•è®¿é—® (`str[i]`) ä¸åˆ‡ç‰‡æ“ä½œï¼Œæ— éœ€ç¬¬ä¸‰æ–¹ ICU åº“ã€‚
*   **å®Œå–„çš„ç±»å‹ç³»ç»Ÿ**ï¼š
    *   `Number` (åŒç²¾åº¦æµ®ç‚¹ï¼Œæ”¯æŒ `toFixed` ç­‰æ–¹æ³•)
    *   `String` (æ”¯æŒ `length`, `indexOf`, `substring` ç­‰åŸç”Ÿæ–¹æ³•)
    *   `Array` (æ”¯æŒåŠ¨æ€æ‰©å®¹ï¼Œå†…ç½® `push`/`pop`/`length`)
    *   `Object` (é”®å€¼å¯¹å­—å…¸)
*   **æ¨¡å—åŒ–ç³»ç»Ÿ**ï¼šæ”¯æŒ `import` è¯­å¥åŠ è½½æ ‡å‡†åº“æˆ–ç›¸å¯¹è·¯å¾„ä¸‹çš„è„šæœ¬æ¨¡å—ï¼Œå†…ç½® AST ç¼“å­˜æœºåˆ¶é˜²æ­¢é‡å¤è§£æã€‚
*   **å¼‚å¸¸å¤„ç†**ï¼šæ”¯æŒ `try-catch-throw` æœºåˆ¶ï¼Œç”šè‡³å¯ä»¥æ•è·è§£é‡Šå™¨åº•å±‚æŠ›å‡ºçš„é”™è¯¯ã€‚
*   **C++ åŸç”Ÿäº’æ“ä½œ**ï¼šææ˜“æ‰©å±•çš„ `NativeFunction` æ¥å£ï¼Œå…è®¸ç”¨ C++ ç¼–å†™é«˜æ€§èƒ½å‡½æ•°ä¾›è„šæœ¬ç›´æ¥è°ƒç”¨ã€‚

## ğŸ› ï¸ æ„å»ºä¸è¿è¡Œ (Build & Run)

### ç¯å¢ƒè¦æ±‚
*   C++17 ç¼–è¯‘å™¨ (GCC/Clang/MSVC)
*   CMake 3.10+

### ç¼–è¯‘æ­¥éª¤

```bash
mkdir cmake-build-release
cd cmake-build-release
cmake ..
cmake --build .
```

### è¿è¡Œè„šæœ¬
ä½ å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œè„šæœ¬æ–‡ä»¶ï¼š
```bash
./BxScript main.bx
```
æˆ–è€…è¿›å…¥ REPL (äº¤äº’å¼æ¨¡å¼) ç›´æ¥è¾“å…¥ä»£ç ï¼š
```bash
./BxScript
>> let a = 1 + 2;
>> print(a);
3
```

### ğŸ“– è¯­æ³•ç¤ºä¾‹ (Examples)
#### 1. åŸºç¡€ä¸æ§åˆ¶æµ
```javascript
let sum = 0;
for (let i = 0; i < 10; i++) {
    if (i % 2 == 0) {
        continue;
    }
    sum = sum + i;
}
// æ”¯æŒ += ç­‰å¤åˆè¿ç®—
sum += 100;
```
#### 2. é—­åŒ…ä¸é«˜é˜¶å‡½æ•°
```javascript
function makeAdder(x) {
    return function(y) {
        return x + y;
    };
}

let add5 = makeAdder(5);
print(add5(10)); // è¾“å‡º 15
```

#### 3. æ•°ç»„ä¸åŸç”Ÿæ–¹æ³•
```javascript
let arr = [];
arr.push("Hello");
arr.push("World");

print(arr.length); // 2
print(arr[0] + " " + arr[1]); // Hello World
```
#### 4. ä¸­æ–‡ä¸å­—ç¬¦ä¸²å¤„ç†
```javascript
let s = "ä½ å¥½ä¸–ç•Œ";
print(s[0]); // è¾“å‡º: "ä½ " (åº•å±‚è‡ªåŠ¨å¤„ç† UTF-8)
print(s.indexOf("ä¸–")); // è¾“å‡º: 2
```

#### 5. æ¨¡å—å¯¼å…¥
```javascript
// è‡ªåŠ¨æœç´¢ ./lib/math.bx æˆ–ç›¸å¯¹è·¯å¾„
import std.math as m; 

let r = m.add(10, 20);
```

## ğŸ—ºï¸ æœªæ¥è§„åˆ’ (Roadmap)
### BxScript æ­£åœ¨ç§¯ææ¼”è¿›ä¸­ï¼Œæœªæ¥çš„å¼€å‘é‡å¿ƒå°†é›†ä¸­åœ¨ æ¡Œé¢åº”ç”¨å¼€å‘èƒ½åŠ›ä¸Šã€‚
#### GUI æ¡†æ¶é›†æˆ (é‡ç‚¹) ğŸ–¥ï¸
è®¡åˆ’æ¥å…¥è½»é‡çº§åŸç”Ÿ GUI æ–¹æ¡ˆï¼ˆå¦‚å°è£… Win32 API æˆ– Nuklearï¼‰ã€‚
ç›®æ ‡æ˜¯å®ç°å£°æ˜å¼å¸ƒå±€ï¼Œè®©å¼€å‘è€…èƒ½é€šè¿‡æç®€çš„ä»£ç æ„å»ºæ¡Œé¢åº”ç”¨ï¼š
```javascript
// æ„¿æ™¯ä»£ç ï¼šå£°æ˜å¼ UI æ„å»º
let win = gui.create("MyApp", 800, 600);
code
Code
win.add(gui.button("ç‚¹å‡»æˆ‘", 100, 50, function() {
    gui.msgbox("ä½ å¥½ï¼");
}));

win.add(gui.input("è¯·è¾“å…¥...", 200, 30));
win.show();
```

#### æ ‡å‡†åº“æ‰©å±• ğŸ“¦
æ–‡ä»¶ I/O (File.read, File.write)ã€‚
ç½‘ç»œè¯·æ±‚ (Http.get, Http.post)ã€‚
JSON è§£ææ”¯æŒã€‚

#### æ€§èƒ½ä¼˜åŒ– âš¡
è¿›ä¸€æ­¥ä¼˜åŒ– AST éå†æ€§èƒ½ã€‚
(è¿œæœŸ) æ¢ç´¢å­—èŠ‚ç è™šæ‹Ÿæœº (Bytecode VM) æ¶æ„ã€‚

## ğŸ¤ è´¡çŒ® (Contributing)
æ¬¢è¿æäº¤ Issue æˆ– Pull Requestï¼å¦‚æœä½ å¯¹è§£é‡Šå™¨åŸç†ã€C++ æ¶æ„è®¾è®¡æˆ– GUI ç»‘å®šæ„Ÿå…´è¶£ï¼Œè¯·éšæ—¶å‚ä¸è®¨è®ºã€‚

## ğŸ‘¥ æˆå‘˜åå• (Team & Acknowledgements)
æœ¬é¡¹ç›®ç”±AIåŠ©æ‰‹åä½œå®Œæˆã€‚
<table>
  <tr>
    <td align="center">
      <a href="https://github.com/BurNingLi">
        <img src="https://github.com/BurNingLi.png?size=100" width="100px;" alt="BurNingLi"/>
        <br />
        <sub><b>BurNingLi</b></sub>
      </a>
      <br />
      ğŸš€ <b>Creator & Lead Developer</b><br/>
      (æ¶æ„è®¾è®¡ / æ ¸å¿ƒå®ç° / é¡¹ç›®ç»´æŠ¤)
    </td>
    <td align="center">
      <a href="https://deepmind.google/technologies/gemini/">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/8a/Google_Gemini_logo.svg" width="100px;" alt="Gemini"/>
        <br />
        <sub><b>Google Gemini 3</b></sub>
      </a>
      <br />
      ğŸ¤– <b>AI Copilot & Tech Consultant</b><br/>
      (ååŠ©é™ä½ Executor å®ç°éš¾åº¦ / C++ æŠ€æœ¯æŒ‡å¯¼ä¸æœ€ä½³å®è·µ)
    </td>
  </tr>
</table>

## ğŸ“„ å¼€æºåè®® (License)
æœ¬é¡¹ç›®é‡‡ç”¨ MIT License å¼€æºã€‚